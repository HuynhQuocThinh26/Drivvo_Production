import format from './format-util';

var a=['addTagFilter','removeTagFilter','tagFilters','addUserFilter','removeUserFilter','clearUserFilters','error','trace','function','bbuildTags','ddoLog','sshouldLog','#0000ff','#ffffff','forEach','\x20background:\x20',';\x20color:\x20','bbuildStyle','isUser','%cðŸ‘¨','unshift','trim','concat','keys','ttoKebabFormat','match','replace','toLowerCase','indexOf','bind','call','isDisabled','set','instance','assign','enable','toLocaleTimeString','en-GB','numeric','split','timeString','oldWinLog','debug','log','info','fatal','background','color','fontWeight','padding','padding:\x200px\x202px\x200px\x202px;\x20border:\x201px\x20solid\x20lightgray;\x20border-radius:\x2013%;','padding:\x200px\x202px\x200px\x202px;\x20border:\x201px\x20solid\x20lightgray;\x20border-radius:\x2050%;','level','opts','stderr','users','userFilters','bbuildLogger','tags','isExisted','object','name','string','map','includes','addObjInfo','push','removeObjInfo','filter','addTag','removeTag','length','addUser','removeUser','clearUsers'];(function(c,d){var e=function(f){while(--f){c['push'](c['shift']());}};e(++d);}(a,0xc0));var b=function(c,d){c=c-0x0;var e=a[c];return e;};const levels=['trace',b('0x0'),b('0x1'),b('0x2'),'warn','error',b('0x3')];const allowStyles=[b('0x4'),b('0x5'),b('0x6'),b('0x7')];const tagFormat=b('0x8');const userFormat=b('0x9');const noop=()=>{};class MrConsole{constructor(c,d,e){this['opts']=c||{};this['opts'][b('0xa')]=this[b('0xb')][b('0xa')]||b('0x0');this['opts'][b('0xc')]=this[b('0xb')][b('0xc')]||![];this['tags']=d||[];this[b('0xd')]=e||[];this['tagFilters']=[];this[b('0xe')]=[];this[b('0xf')](this[b('0x10')]);}[b('0x11')](f,g){if(!f||typeof f===b('0x12')&&!f[b('0x13')]){return-0x1;}const h=typeof f===b('0x14')?f:f[b('0x13')];const i=g[b('0x15')](j=>typeof j===b('0x14')?j:j[b('0x13')]);if(i[b('0x16')](h)){return 0x1;}return 0x0;}[b('0x17')](k,l){if(this[b('0x11')](k,l)===0x0){l[b('0x18')](k);this[b('0xf')](l);}}[b('0x19')](m,n){let o=n;if(this[b('0x11')](m,n)===0x1){const p=typeof m===b('0x14')?m:m['name'];o=n[b('0x1a')](q=>{return typeof q===b('0x14')?q!==p:q[b('0x13')]!==p;});this['bbuildLogger'](n);}return o;}[b('0x1b')](r){this[b('0x17')](r,this[b('0x10')]);}[b('0x1c')](s){this[b('0x10')]=this[b('0x19')](s,this[b('0x10')]);}['clearTags'](){this[b('0x10')][b('0x1d')]=0x0;}[b('0x1e')](t){}[b('0x1f')](u){}[b('0x20')](){this[b('0xd')][b('0x1d')]=0x0;}[b('0x21')](){}[b('0x22')](){}['clearTagFilters'](){this[b('0x23')][b('0x1d')]=0x0;}[b('0x24')](){}[b('0x25')](){}[b('0x26')](){this['userFilters']['length']=0x0;}[b('0xf')](v){const w=this;levels['forEach'](x=>{const y=()=>{const {opts}=this;let {prefix}=opts;let z;if(opts[b('0xc')]){z=b('0x27');}else{switch(x){case b('0x28'):z=b('0x2');break;case'debug':z='log';break;case b('0x3'):z='error';break;default:z=x;}}const A=[];if(prefix&&typeof prefix===b('0x29'))prefix=prefix(x);if(v[b('0x1d')]>0x0){A[b('0x18')](...this[b('0x2a')](v));}if(prefix){if(A[b('0x1d')]>0x0){A[0x0]=prefix+'\x20'+A[0x0];}else{A[b('0x18')](prefix);}}return w[b('0x2b')](z,A);};w[x]=w[b('0x2c')](x)?y():noop;});}[b('0x2a')](B){const C=b('0x2d');const D=b('0x2e');let E='';const F=[];B[b('0x2f')](G=>{if(G&&typeof G===b('0x14')){E+='%c'+G;const H=tagFormat+b('0x30')+C+b('0x31')+D+';';F[b('0x18')](H);}if(G[b('0x13')]){const I=tagFormat+'\x20'+this[b('0x32')](G);if(G[b('0x33')]){E=b('0x34')+G[b('0x13')]+E;F[b('0x35')](I);}else{E+='%c'+G[b('0x13')];F[b('0x18')](I);}}});return[E[b('0x36')]()][b('0x37')](F);}[b('0x32')](J){let K='';const L=Object[b('0x38')](J);allowStyles[b('0x2f')](M=>{if(L[b('0x16')](M)){K+=this[b('0x39')](M)+':\x20'+J[M]+';\x20';}});return K['trim']();}[b('0x39')](N){let O='';const P=/[A-Z][a-z]+/g;const Q=N[b('0x3a')](P);if(!Q)return N;Q[b('0x2f')](R=>{O=N[b('0x3b')](R,'-'+R[b('0x3c')]());});return O;}[b('0x2c')](S){return!MrConsole['isDisabled']&&levels[b('0x3d')](S)>=levels['indexOf'](this['opts'][b('0xa')]);}[b('0x2b')](T,U){const V=console;const W=V[T];return Function['prototype'][b('0x3e')][b('0x3f')](W,null,...U);}}MrConsole[b('0x40')]=![];MrConsole['addFilter']=function addFilter(X){};MrConsole[b('0x41')]=function set(Y){if(MrConsole['instance']){const Z=MrConsole[b('0x42')][b('0xb')];const a0=MrConsole[b('0x42')][b('0x10')];MrConsole[b('0x42')][b('0xb')]=Object[b('0x43')]({},Z,Y);MrConsole['instance'][b('0xf')](a0);}};MrConsole[b('0x44')]=function disable(a1){MrConsole[b('0x40')]=![];};MrConsole['disable']=function disable(a2){MrConsole[b('0x40')]=!![];};MrConsole['timeString']=function timeString(){const a3=new Date()[b('0x45')](b('0x46'),{'hour':b('0x47'),'minute':b('0x47'),'second':b('0x47')})[b('0x48')]('\x20')['join']('-');return a3;};if(!MrConsole['instance']){const opts={'prefix':a4=>{return'['+MrConsole[b('0x49')]()+']';},'level':b('0x0')};MrConsole[b('0x42')]=new MrConsole(opts);MrConsole[b('0x4a')]=window[b('0x1')];window[b('0x1')]=MrConsole[b('0x42')];}

export default MrConsole;